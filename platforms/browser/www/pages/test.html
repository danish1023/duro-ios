<template>
    <div class="page" id="scan-code-page" style="background: transparent">
        <div class="navbar">
            <div class="navbar-inner sliding bg-color-red color-theme-white">
                <div class="left">
                    <a href="#" class="link back">
                        <i class="material-icons">arrow_back</i>
                    </a>
                </div>
                <div class="title color-white">Test</div>
            </div>
        </div>
        <div class="page-content">
            <div class="block">
                <div class="video">
                    <video id="barcodeScanStream"></video>
                </div>
        
                <div class="inputControls">
                    <div id="deviceready">
                        <button onclick="scan()" id="scanButton">Scan barcode</button>
                        <!-- 0 is the front camera, 1 is the back camera -->
                        <input type="text" id="barcodeScanDevice" placeholder="1">
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    return {
        on: {
            pageInit: function () {
                cordova.plugins.barcodeScanner.scan(
                    function (result) {
                        if (!result.cancelled) {
                            alert(result);
                        }
                    },
                    function (error) {
                        alert("Error: " + error);
                    }
                );
            },
        },
    }
</script>